<!DOCTYPE html>

<html lang="es">
    <head>
        <meta charset="utf-8">
        <title>Home</title>
        <link rel="stylesheet" type="text/css" href="../CSS/style_home_page.css">
        <script src="../JS/module_loader.js"></script>

    </head>
    <body id="home_page_body">
        <header id="header_contact_page"></header>
        <div id="noticias_principal"></div>
        <div class="noticias_secundarias">
            <!--Aquí irán las vertical cards -->
        </div>
        <footer id="footer_contact_page"></footer>

        <script>
            function init() {
                module_loader("../HTML_Modules/header.html", "header_contact_page");
                module_loader("../HTML_Modules/principal_news.html", "noticias_principal");
                module_loader("../HTML_Modules/footer.html", "footer_contact_page");

                //Cargo las news cards

                fetch("../HTML_Modules/template_vertical_card.html")
                    .then((ruta) => {
                        return ruta.text()
                    })
                    .then((text) => {
                        document.querySelector(".noticias_secundarias").innerHTML = text;

                        const container = document.querySelector(".noticias_secundarias");
                        const templateVCard = document.querySelector(".template_vertical_card");
                        fetch("../JSON_Files/news.json")
                            .then((file) => file.json())
                            .then((news) => {
                                news.forEach((noticia) => {
                                    const card = templateVCard.content.cloneNode(true);
                                    card.querySelector(".template_vertical_card_academy_info").textContent = noticia.descripcion;
                                    card.querySelector(".template_vertical_card_img").src = noticia.foto;
                                    card.querySelector(".template_vertical_card_img").alt = noticia.nombre;
                                    container.appendChild(card);
                                })
                            })
                    })

            }
            document.addEventListener('DOMContentLoaded', init);
        </script>
    </body>

</html>